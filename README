# Aplicación Financiera C

Pequeña aplicación de consola en C para registrar y gestionar transacciones (compras, anulaciones, reimpresión, reportes y cierre).

Resumen rápido
- Registro de compras: [`registrar_compras`](compra.c)  
- Anulación por referencia validando últimos 4 dígitos del PAN y CVV: [`anular_compra`](anulacion.c) / [`buscarYAnularCompra`](anulacion.c)  
- Reimpresión navegable (anterior/adelante/salir): [`reimprimir_compras`](reimpresion.c)  
- Reportes de totales y montos: [`generar_reportes`](reportes.c)  
- Cierre del día (muestra reporte y opcionalmente borra datos): [`realizar_cierre`](cierre.c)

Archivos principales
- [main.c] — menú principal y flujo de la aplicación. 

- [compra.h] — definición del tipo `compra` y macros (`MAX_COMPRAS`, [`ARCHIVO`](compra.h)).  

- [compra.c](compra.c) — ingreso, validaciones (PAN/Luhn, CVV, fecha), franquicia, ocultar PAN, unir PAN, impresión y registro. Contiene funciones como [`ingreso_dato`](compra.c), [`validar_tarjeta`](compra.c), [`pan_oculto`](compra.c), [`pan_unido`](compra.c).  

- [anulacion.c](anulacion.c) / [anulacion.h](anulacion.h) — entrada de datos y lógica de anulación (`ingresarReferencia`, `ingresarUltimosPan`, `ingresarCVV`, [`buscarYAnularCompra`](anulacion.c)).  

- [reimpresion.c](reimpresion.c) / [reimpresion.h](reimpresion.h) — muestra compras y navegación (`mostrar_hint`, `pedir_tecla_valida`, [`reimprimir_compras`](reimpresion.c)). 

- [reportes.c](reportes.c) / [reportes.h](reportes.h) — cálculo y muestra de totales (compras activas/anuladas/monto total) [`generar_reportes`](reportes.c).  

- [cierre.c](cierre.c) / [cierre.h](cierre.h) — genera reporte y pregunta para borrar el archivo de datos [`realizar_cierre`](cierre.c).  

- [makefile](makefile) — scripts para compilar y ejecutar.



Compilar y ejecutar
Uso rápido
- Compilar: `make`
- Ejecutar: `make run`

Menú (1..6)
- 1 COMPRA — registrar compra (`registrar_compras`)
- 2 ANULACION — anular por referencia + últimos4 + CVV (`anular_compra`)
- 3 REEIMPRESION — ver compras (`reimprimir_compras`)
- 4 REPORTES — totales y montos (`generar_reportes`)
- 5 CIERRE — reporte y opcional vaciado (`realizar_cierre`)
- 6 SALIR

Almacenamiento
- Archivo: macro `ARCHIVO` en `compra.h` (formato binario). Estructura `compra` en `compra.h`.


Archivos principales
- `main.c`, `compra.c/h`, `anulacion.c/h`, `reimpresion.c/h`, `reportes.c/h`, `cierre.c/h`, `makefile`.
