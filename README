# Aplicación Financiera C

Proyecto pequeño y didáctico para registrar y gestionar transacciones (compras,anulaciones,reeimpresion, reportes y cierrres ) desde la consola.

-- Almacena las compras en un archivo de texto (`compras.txt`)
-- Permite anularlas por referencia
-- Imprime todas las compras con un hint visual, mostrando una por una la compra 
-- Reporta la cantidad total de transacciones (activdas y anuladas), la clasificacion por cada tipo de transacion y ademas del monto cumulado
-- En la seccion de cierre este muestra el reporte de las transacciones que hay y elimina llegado caso el cliente lo autorize

## Resumen

Esta aplicación en C ofrece un menú por consola con operaciones básicas:

- Registrar compras.
- Anular compras (por referencia, validando últimos 4 dígitos del PAN y CVV).
- reeimpresión
- reportes
- Opciones de cierre
 

El almacenamiento es un archivo de texto plano (`compras.txt`). Está pensada para aprendizaje y pruebas.

## Estructura de archivos

- `main.c` - Interfaz del menú principal y flujo de la aplicación.
- `compra.h` - Definición del tipo `compra` y prototipos públicos.
- `compra.c` - Lógica para ingreso, validación (PAN, CVV, fecha), determinación de franquicia, impresión y almacenamiento de compras en `compras.txt`.
- `anulacion.h` - Prototipo de la función de anulación.
- `anulacion.c` - Busca compras por referencia y cambia el `Estado` a `Anulada` si coinciden los datos.
- `reeimpresion.h` - Prototipo de la función de reeimpresion 
- `reeimpresion.c` -  Imprime todas las compras, con un hint visual donde se puede desplazar  atras (a), delante(d) , salir (s).
- `reportes.h` - Prototipo de la función de reportes
- `reportes.c` - Imprime un pequeño reporte (compras registradas,compras activas, compras anuladas y Monto total de todas las compras)
- `cierre.h` - Prototipo de la función de cierre
- `cierre.c` - Este muestra un pequeño reporte y un menu donde el cliente confirma si quiere eliminar todas las compras existentes
- `compras.txt` - Archivo de datos (ejemplo) con compras registradas.

## Formato en `compras.txt`

Cada compra se guarda en el archivo con el siguiente bloque exacto:

```
Referencia: <int>
Monto: <float con 2 decimales>
PAN: <cadena>
Franquicia: <cadena>
CVV: <cadena>
Fecha de Vencimiento: <MM/AA>
Estado: <Activa|Anulada>

```

Ejemplo:

```
Referencia: 1
Monto: 61949.60
PAN: 4111 1111 1111 1111
Franquicia: Visa
CVV: 191
Fecha de Vencimiento: 02/60
Estado: Activa

```
Referencia: 2
Monto: 550000.50
PAN: 3440 8509 4764 301
Franquicia: American Express
CVV: 250
Fecha de Vencimiento: 02/27
Estado: Anulada

```